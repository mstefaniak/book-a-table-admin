{"version":3,"sources":["types.ts","context/firebase.ts","hooks/useGetData.ts","components/BookingsList/index.tsx","hooks/useUpdate.ts","components/Login/index.tsx","App.tsx","serviceWorker.js","lib/firebase.ts","index.js"],"names":["STATUS","FirebaseContext","createContext","firebase","DATA_TYPE","STATUS_MAP","0","1","2","3","4","5","chipColors","CANCELED","NEW","CONFIRMED","PREPARED","REALIZED","NOT_REALIZED","useStyles","makeStyles","theme","table","minWidth","th","fontWeight","typography","fontWeightBold","color","palette","common","white","backgroundColor","black","BookingsList","type","getData","useContext","useCallback","a","collectionRef","firestore","collection","snapshotRef","todayStartTime","getTime","startOfToday","todayEndTime","endOfToday","CURRENT","where","NEXT","get","snapshot","empty","console","warn","allContent","docs","map","contentObj","data","id","useGetData","useState","loading","setLoading","bookings","setBookings","update","docId","doc","useUpdate","classes","disabled","useRef","getBookings","changeStatus","bookingId","status","current","formatTime","timestamp","date","Date","format","useEffect","TableContainer","component","Paper","Table","className","aria-label","TableHead","TableRow","TableCell","align","TableBody","booking","key","scope","name","people","area","Chip","label","comment","Tooltip","title","IconButton","edge","onClick","NoteAdd","Close","Done","error","padding","spacing","main","textAlign","content","marginBottom","card","maxWidth","margin","actions","justifyContent","Login","setError","email","setEmail","password","setPassword","handleKeyPress","event","onLogin","auth","signInWithEmailAndPassword","catch","Card","CardContent","TextField","autoFocus","value","onChange","target","fullWidth","onKeyPress","CardActions","Button","variant","root","position","flexGrow","grey","top","bottom","right","left","TabPanel","props","children","index","other","role","hidden","aria-labelledby","Box","p","App","setValue","isLogged","setIsLogged","onAuthStateChanged","user","AppBar","Tabs","newValue","signOut","Tab","HISTORY","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","log","onUpdate","onSuccess","Firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","StrictMode","Provider","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.9db28c47.chunk.js","sourcesContent":["export enum STATUS {\n  NEW = 0,\n  CONFIRMED = 1,\n  PREPARED = 2,\n  REALIZED = 3,\n  NOT_REALIZED = 4,\n  CANCELED = 5,\n}\n\nexport const STATUS_MAP = {\n  0: 'New',\n  1: 'Confirmed',\n  2: 'Prepared',\n  3: 'Realized',\n  4: 'Not realized',\n  5: 'Canceled',\n};\n\ninterface Booking {\n  id: string;\n  name: string;\n  email: string;\n  status: STATUS;\n  people: number;\n  area: string;\n  comment: string;\n  date: number;\n}\n\nexport type Bookings = Array<Booking>;\n\nexport enum DATA_TYPE {\n  CURRENT = 'current',\n  NEXT = 'next',\n  HISTORY = 'history',\n}\n","import { createContext } from \"react\";\nimport Firebase from \"firebase/app\";\n\ntype FirebaseContextType = {\n  firebase: Firebase.app.App | null;\n};\n\nexport const FirebaseContext = createContext<FirebaseContextType>({\n  firebase: null,\n});\n","import { useCallback, useContext } from \"react\";\nimport { FirebaseContext } from \"../context/firebase\";\nimport { startOfToday, endOfToday, getTime } from 'date-fns';\nimport { Bookings, DATA_TYPE } from '../types';\n\nexport const useGetData = (type: DATA_TYPE) => {\n  const { firebase } = useContext(FirebaseContext);\n\n  const getData = useCallback(async () => {\n    if (!firebase) {\n      return;\n    }\n    const collectionRef = firebase\n      .firestore()\n      .collection('bookings');\n\n    let snapshotRef = null;\n    const todayStartTime = getTime(startOfToday());\n    const todayEndTime = getTime(endOfToday());\n    if (type === DATA_TYPE.CURRENT) {\n      snapshotRef = collectionRef.where('date', '>', todayStartTime).where('date', '<', todayEndTime);\n    } else if (type === DATA_TYPE.NEXT) {\n      snapshotRef = collectionRef.where('date', '>=', todayEndTime);\n    } else {\n      snapshotRef = collectionRef.where('date', '<=', todayStartTime);\n    }\n\n    const snapshot = await snapshotRef.get();\n\n    if (snapshot.empty) {\n      console.warn('No matching documents');\n      return;\n    }\n\n    const allContent = snapshot.docs.map((contentObj) => ({\n      ...contentObj.data(),\n      id: contentObj.id,\n    }));\n\n    return allContent as Bookings;\n  }, [firebase, type]);\n\n  return { getData };\n};\n","import React, { useCallback, useEffect, useState, useRef } from 'react';\nimport { Chip, IconButton, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Tooltip } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport {\n  NoteAdd as NoteAddIcon,\n  Done as DoneIcon,\n  Close as CloseIcon,\n} from '@material-ui/icons';\nimport { format } from 'date-fns';\nimport { useGetData, useUpdate } from '../../hooks';\nimport { STATUS, STATUS_MAP, Bookings, DATA_TYPE } from '../../types';\n\nconst chipColors: { [key:number]: 'default' | 'primary' | 'secondary' } = {\n  [STATUS.CANCELED]: 'default',\n  [STATUS.NEW]: 'default',\n  [STATUS.CONFIRMED]: 'default',\n  [STATUS.PREPARED]: 'secondary',\n  [STATUS.REALIZED]: 'primary',\n  [STATUS.NOT_REALIZED]: 'default',\n};\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  table: {\n    minWidth: 650,\n  },\n  th: {\n    fontWeight: theme.typography.fontWeightBold,\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.common.black,\n  },\n}));\n\ninterface BookingsProps {\n  type: DATA_TYPE;\n}\n\nexport const BookingsList = ({ type }: BookingsProps) => {\n  const { getData } = useGetData(type);\n  const [ loading, setLoading ] = useState(true);\n  const [ bookings, setBookings ] = useState<Bookings | undefined>();\n  const { update } = useUpdate();\n  const classes = useStyles();\n  const disabled = useRef<string>('');\n\n  const getBookings = useCallback(async () => {\n    setLoading(true);\n    const bookings = await getData();\n    setBookings(bookings);\n    setLoading(false);\n  }, [getData]);\n\n  const changeStatus = async (bookingId: string, status: STATUS) => {\n    disabled.current = bookingId;\n    await update(bookingId, { status });\n    getBookings();\n    disabled.current = '';\n  }\n\n  const formatTime = useCallback((timestamp: number): string => {\n    const date = new Date(timestamp);\n\n    if (type === DATA_TYPE.CURRENT) {\n      return format(date, 'HH:mm');\n    } else {\n      return format(date, 'yyyy-MM-dd HH:mm');\n    }\n  }, [type]);\n\n  useEffect(() => {\n    getBookings();\n  }, [getBookings]);\n\n  return (\n    <>\n      { bookings ? (\n        <TableContainer component={Paper}>\n          <Table className={classes.table} aria-label=\"bookings list\">\n            <TableHead>\n              <TableRow>\n                <TableCell className={classes.th}>Who</TableCell>\n                <TableCell className={classes.th} align=\"center\">When</TableCell>\n                <TableCell className={classes.th} align=\"center\">Persons</TableCell>\n                <TableCell className={classes.th} align=\"center\">Where</TableCell>\n                <TableCell className={classes.th} align=\"center\">Status</TableCell>\n                <TableCell className={classes.th} align=\"center\">Comment</TableCell>\n                <TableCell className={classes.th}></TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {bookings.map((booking) => (\n                <TableRow key={booking.id}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {booking.name}\n                  </TableCell>\n                  <TableCell align=\"center\">{formatTime(booking.date)}</TableCell>\n                  <TableCell align=\"center\">{booking.people}</TableCell>\n                  <TableCell align=\"center\">{booking.area}</TableCell>\n                  <TableCell align=\"center\">\n                    <Chip\n                      color={chipColors[booking.status]}\n                      label={STATUS_MAP[booking.status]}\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{booking.comment}</TableCell>\n                  <TableCell align=\"right\">\n                    {type === DATA_TYPE.CURRENT && booking.status < STATUS.PREPARED &&\n                      <Tooltip title=\"Mark prepared\">\n                        <IconButton\n                          edge=\"end\"\n                          aria-label=\"prepared\"\n                          disabled={disabled.current === booking.id}\n                          onClick={() => changeStatus(booking.id, STATUS.PREPARED)}\n                        >\n                          <NoteAddIcon />\n                        </IconButton>\n                      </Tooltip>\n                    }\n                    {type === DATA_TYPE.NEXT && booking.status === STATUS.PREPARED &&\n                      <>\n                        <Tooltip title=\"Mark not realized\">\n                          <IconButton\n                            edge=\"end\"\n                            aria-label=\"not realized\"\n                            disabled={disabled.current === booking.id}\n                            onClick={() => changeStatus(booking.id, STATUS.NOT_REALIZED)}\n                          >\n                            <CloseIcon />\n                          </IconButton>\n                        </Tooltip>\n                        <Tooltip title=\"Mark realized\">\n                          <IconButton\n                            edge=\"end\"\n                            aria-label=\"realized\"\n                            disabled={disabled.current === booking.id}\n                            onClick={() => changeStatus(booking.id, STATUS.REALIZED)}\n                          >\n                            <DoneIcon />\n                          </IconButton>\n                        </Tooltip>\n                      </>\n                    }\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      ) : (\n        <div>{loading ? 'Loading...' : 'No bookings found'}</div>\n      )}\n    </>\n  );\n};\n","import { useCallback, useContext } from \"react\";\nimport { FirebaseContext } from \"../context/firebase\";\n\nconst useUpdate = () => {\n  const { firebase } = useContext(FirebaseContext);\n\n  const update = useCallback(async (docId: string, data: { [key:string]: string | number }) => {\n    if (!firebase) {\n      return;\n    }\n    const collectionRef = firebase\n      .firestore()\n      .collection('bookings');\n\n    return collectionRef.doc(docId).update(data);\n  }, [firebase]);\n\n  return { update };\n};\n\nexport { useUpdate };\n","import React, { useContext, useState } from 'react';\nimport { Button, Card, CardContent, CardActions, TextField } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { FirebaseContext } from \"../../context/firebase\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  error: {\n    padding: theme.spacing(1),\n    color: theme.palette.error.main,\n    textAlign: 'center',\n  },\n  content: {\n    '& > *': {\n      marginBottom: theme.spacing(2),\n    },\n  },\n  card: {\n    maxWidth: 400,\n    margin: '40px auto',\n  },\n  actions: {\n    justifyContent: 'center',\n  },\n}));\n\nexport const Login = () => {\n  const classes = useStyles();\n  const [ error, setError ] = useState(false);\n  const [ email, setEmail ] = useState('');\n  const [ password, setPassword ] = useState('');\n  const { firebase } = useContext(FirebaseContext);\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      onLogin();\n    }\n  }\n\n  const onEmailChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setError(false);\n    setEmail(event?.target?.value);\n  }\n\n  const onPasswordChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setError(false);\n    setPassword(event?.target?.value);\n  }\n\n  const onLogin = () => {\n    if (!firebase) {\n      return;\n    }\n\n    firebase.auth()\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => {\n        setError(true);\n      });\n  }\n\n  return (\n    <Card className={classes.card}>\n      <CardContent className={classes.content}>\n        {error && <p className={classes.error}>Incorrect email and/or password</p>}\n        <TextField label=\"E-mail\" autoFocus value={email} onChange={onEmailChange} fullWidth onKeyPress={handleKeyPress} />\n        <TextField label=\"Password\" type=\"password\" value={password} onChange={onPasswordChange} fullWidth onKeyPress={handleKeyPress} />\n      </CardContent>\n      <CardActions className={classes.actions}>\n        <Button variant=\"contained\" color=\"primary\" onClick={onLogin}>\n          Log in\n        </Button>\n      </CardActions>\n    </Card>\n  )\n}\n","import React, { useEffect, useState, useContext } from 'react';\nimport { BookingsList } from './components/BookingsList';\nimport { Login } from './components/Login';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Box, Tab, Tabs } from '@material-ui/core';\nimport { DATA_TYPE } from './types';\nimport { FirebaseContext } from \"./context/firebase\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    flexGrow: 1,\n    backgroundColor: theme.palette.grey[100],\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n  },\n}));\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: any;\n  value: any;\n}\n\nconst TabPanel = (props: TabPanelProps) => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`nav-tabpanel-${index}`}\n      aria-labelledby={`nav-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>{children}</Box>\n      )}\n    </div>\n  );\n};\n\nconst App = () => {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const [isLogged, setIsLogged] = useState(false);\n  const { firebase } = useContext(FirebaseContext);\n\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n    setValue(newValue);\n\n    if (firebase && newValue === 3) {\n      firebase.auth().signOut();\n    }\n  };\n\n  useEffect(() => {\n    if (firebase) {\n      firebase.auth().onAuthStateChanged((user) => {\n        if (user) {\n          setValue(0);\n          setIsLogged(true);\n        } else {\n          setIsLogged(false);\n        }\n      });\n    }\n  }, [firebase]);\n\n  if (!isLogged) {\n    return <div className={classes.root}><Login /></div>;\n  }\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Tabs\n          variant=\"fullWidth\"\n          value={value}\n          onChange={handleChange}\n          aria-label=\"nav tabs example\"\n        >\n          <Tab label=\"Current\" />\n          <Tab label=\"Next\" />\n          <Tab label=\"History\" />\n          <Tab label=\"Sign out\" />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <BookingsList type={DATA_TYPE.CURRENT} />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <BookingsList type={DATA_TYPE.NEXT} />\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <BookingsList type={DATA_TYPE.HISTORY} />\n      </TabPanel>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import Firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst config = {\n  apiKey: \"AIzaSyBCooZY6_EXqK5bDrW-toY0IGJ_xM7B8bE\",\n  authDomain: \"book-a-table-96a18.firebaseapp.com\",\n  databaseURL: \"https://book-a-table-96a18.firebaseio.com\",\n  projectId: \"book-a-table-96a18\",\n  storageBucket: \"book-a-table-96a18.appspot.com\",\n  messagingSenderId: \"173934858452\",\n  appId: \"1:173934858452:web:50fdcc7645b3d229572b41\",\n};\n\nconst firebase = Firebase.initializeApp(config);\n\nexport { firebase };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { firebase } from \"./lib/firebase\";\nimport { FirebaseContext } from \"./context/firebase\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <FirebaseContext.Provider value={{ firebase }}>\n      <App />\n    </FirebaseContext.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}